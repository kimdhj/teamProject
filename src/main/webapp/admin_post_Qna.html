<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Elegant Dashboard | Dashboard</title>
<!-- Favicon -->
<link rel="shortcut icon" href="./img/svg/logo.svg" type="image/x-icon">
<!-- Custom styles -->
<link rel="stylesheet" href="./css/style_admin.min.css">
<link href="css/bootstrap.min.css" rel="stylesheet">

<!-- Template Stylesheet -->
<link href="css/style.css" rel="stylesheet">
<link href="./css/test.css" rel="stylesheet">
<link href="./css/post_Qna.css" rel="stylesheet" />

<link href="./datepicker/css/datepicker.min.css" rel="stylesheet" type="text/css" media="all">
</head>

<body>
	<!--  Body -->
	<div class="page-flex">
		<!-- ! Sidebar -->
		<aside class="sidebar">
			<div class="sidebar-start">
				<!-- 젤상단 로고 -->
				<div class="sidebar-head">
					<a href="/" class="logo-wrapper" title="Home"> <span
						class="sr-only">Home</span> <span class="icon logo"
						aria-hidden="true"></span>
						<div class="logo-text">
							<span class="logo-title">Elegant</span> <span
								class="logo-subtitle">Dashboard</span>
						</div>

					</a>
					<button class="sidebar-toggle transparent-btn" title="Menu"
						type="button">
						<span class="sr-only">Toggle menu</span> <span
							class="icon menu-toggle" aria-hidden="true"></span>
					</button>
				</div>
				<!-- 집모양 여기부터 -->
				<div class="sidebar-body">
					<ul class="sidebar-body-menu">
						<li><a class="active" href="/"><span class="icon home"
								aria-hidden="true"></span>Dashboard</a></li>
						<li><a class="show-cat-btn" href="##"> <span
								class="icon document" aria-hidden="true"></span>Posts <span
								class="category__btn transparent-btn" title="Open list">
									<span class="sr-only">Open list</span> <span
									class="icon arrow-down" aria-hidden="true"></span>
							</span>
						</a>
							<ul class="cat-sub-menu">
								<li><a href="posts.html">All Posts</a></li>
								<li><a href="new-post.html">Add new post</a></li>
							</ul></li>
						<li><a class="show-cat-btn" href="##"> <span
								class="icon folder" aria-hidden="true"></span>Categories <span
								class="category__btn transparent-btn" title="Open list">
									<span class="sr-only">Open list</span> <span
									class="icon arrow-down" aria-hidden="true"></span>
							</span>
						</a>
							<ul class="cat-sub-menu">
								<li><a href="categories.html">All categories</a></li>
							</ul></li>
						<li><a class="show-cat-btn" href="##"> <span
								class="icon image" aria-hidden="true"></span>Media <span
								class="category__btn transparent-btn" title="Open list">
									<span class="sr-only">Open list</span> <span
									class="icon arrow-down" aria-hidden="true"></span>
							</span>
						</a>
							<ul class="cat-sub-menu">
								<li><a href="media-01.html">Media-01</a></li>
								<li><a href="media-02.html">Media-02</a></li>
							</ul></li>
						<li><a class="show-cat-btn" href="##"> <span
								class="icon paper" aria-hidden="true"></span>Pages <span
								class="category__btn transparent-btn" title="Open list">
									<span class="sr-only">Open list</span> <span
									class="icon arrow-down" aria-hidden="true"></span>
							</span>
						</a>
							<ul class="cat-sub-menu">
								<li><a href="pages.html">All pages</a></li>
								<li><a href="new-page.html">Add new page</a></li>
							</ul></li>
						<li><a href="comments.html"> <span class="icon message"
								aria-hidden="true"></span> Comments
						</a> <span class="msg-counter">7</span></li>
					</ul>
					<span class="system-menu__title">system</span>
					<!-- system 글자 -->
					<ul class="sidebar-body-menu">
						<li><a href="appearance.html"><span class="icon edit"
								aria-hidden="true"></span>Appearance</a></li>
						<li><a class="show-cat-btn" href="##"> <span
								class="icon category" aria-hidden="true"></span>Extentions <span
								class="category__btn transparent-btn" title="Open list">
									<span class="sr-only">Open list</span> <span
									class="icon arrow-down" aria-hidden="true"></span>
							</span>
						</a>
							<ul class="cat-sub-menu">
								<li><a href="extention-01.html">Extentions-01</a></li>
								<li><a href="extention-02.html">Extentions-02</a></li>
							</ul></li>
						<li><a class="show-cat-btn" href="##"> <span
								class="icon user-3" aria-hidden="true"></span>Users <span
								class="category__btn transparent-btn" title="Open list">
									<span class="sr-only">Open list</span> <span
									class="icon arrow-down" aria-hidden="true"></span>
							</span>
						</a>
							<ul class="cat-sub-menu">
								<li><a href="users-01.html">Users-01</a></li>
								<li><a href="users-02.html">Users-02</a></li>
							</ul></li>
						<li><a href="##"><span class="icon setting"
								aria-hidden="true"></span>Settings</a></li>
					</ul>
				</div>
			</div>
			<!-- 가장 하단 아이콘 -->
			<div class="sidebar-footer">
				<a href="##" class="sidebar-user"> <span
					class="sidebar-user-img"> <picture>
						<source srcset="./img/avatar/avatar-illustrated-01.webp"
							type="image/webp">
						<img src="./img/avatar/avatar-illustrated-01.png" alt="User name">
						</picture>
				</span>
					<div class="sidebar-user-info">
						<span class="sidebar-user__title">Nafisa Sh.</span> <span
							class="sidebar-user__subtitle">Support manager</span>
					</div>
				</a>
			</div>
		</aside>

		<!-- 메인 여기부터 작성 -->
		<div id="main_wrapper" class="m-2  w-100 row">
			<div class="mb-0 p-0">
				<button id="all" class="select p-2">전체 문의(QnA)</button>
			</div>

			<div id="all_box" class="bg-white w-100">
				<div class="row d-flex align-items-center" id="input_line_top">
					<div class="col-2"></div>
					<div class="col-10" id="day_select">
						<div id="day_calendar" class="col-5" style="margin-top: 1%;">
							<input class="col-4" placeholder="시작날짜" type="text"
								id="start_date" style="height: 50px; margin-top: 2%; text-align: center;"/><div class="qna_font">~</div><input class="col-4" placeholder="마지막 날짜"
								type="text" id="end_date" style="height: 50px; margin-top: 2%; text-align: center;"/>
						<div id="day_btn" class="col-7">
							<div id="dayAdd" class="btn-group me-2" role="group"
								aria-label="Second group">
								<button type="button" class="btn btn-secondary week">1주일</button>
								<button type="button" class="btn btn-secondary month">1개월</button>
								<button type="button" class="btn btn-secondary threemonth">3개월</button>
								<button type="button" class="btn btn-secondary sixmonth">6개월</button>
								<button type="button" class="btn btn-secondary year">1년</button>
							</div>
						</div>
						</div>
					</div>
					<div class="col-2"></div>
					<div class="col-1 me-2 mt-3" style="padding-left: 0px;">
						<div class="input-group mb-3 d-flex">
							<select class="row form-select w-100 fs-5" id="level"
								name="level" id="level" aria-label="Default select example"
								style="margin-left: 3%;">
								<option class="fs-5" value="1">번호</option>
								<option class="fs-5" value="2">제목</option>
								<option class="fs-5" value="3">내용</option>
								<option class="fs-5" value="4">작성자</option>
							</select>
						</div>
					</div>
					<div class="col-4  me-2 mt-3">
						<div class="input-group mb-3 ">
							<input class="fs-5 w-100" type="text" placeholder="검색할 내용 입력">
						</div>
					</div>
					<div class="col-auto ">
						<div class="input-group p-0 mt-2  col">
							<button id="add_btn"
								class="btn bg-blue text-white rounded-pill col">검색</button>&nbsp;&nbsp;
							<button id="add_btn"
								class="btn bg-blue text-white rounded-pill col">추가</button>
						</div>

					</div>
					<div class="row d-flex m-1" id="table_box">
						<table class="table " id="table">
							<thead>
								<tr>
									<th><input
										class="form-check-input border-1 border-dark allche"
										type="checkbox" value="" id="flexCheckChecked" checked></th>
									<th>번호</th>
									<th>제목</th>
									<th>내용</th>
									<th>작성자</th>
									<th>등록일자</th>
									<th>답변여부</th>
									<th><button class="btn btn-warning rounded-pill seldel">선택
											삭제</button></th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td><input
										class="form-check-input border-1 border-dark delche"
										type="checkbox" value="" id="flexCheckChecked" checked>
									</td>
									<td>
										<p contenteditable="false" data-default="1">1</p>
									</td>
									<td>
										<p class="rowColumn" contenteditable="true"
											data-default="문의드립니다.">문의드립니다.</p>
									</td>
									<td>
										<p class="selectColumn" contenteditable="false"
											data-default="쏼라쏼라">이거 왜 안되는지 모르겠는데요...(생략)</p>
									</td>
									<td>
										<p class="selectColumn" contenteditable="false"
											data-default="qjawns">qjawns</p>
									</td>
									<td>
										<p class="rowColumn" contenteditable="false"
											data-default="2022-11-15 11:15">2022-11-15 11:15</p>
									</td>
									<td>
										<button class="btn btn-success rounded-pill">답변완료</button>
									</td>
									<td>
										<button class="btn btn-danger rounded-pill del">삭제</button>
									</td>
								</tr>
								
								<tr>
									<td><input
										class="form-check-input border-1 border-dark delche"
										type="checkbox" value="" id="flexCheckChecked" checked>
									</td>
									<td>
										<p contenteditable="false" data-default="1">1</p>
									</td>
									<td>
										<p class="rowColumn" contenteditable="true"
											data-default="문의드립니다.">문의드립니다.</p>
									</td>
									<td>
										<p class="selectColumn" contenteditable="false"
											data-default="쏼라쏼라">이거 왜 안되는지 모르겠는데요...(생략)</p>
									</td>
									<td>
										<p class="selectColumn" contenteditable="false"
											data-default="qjawns">qjawns</p>
									</td>
									<td>
										<p class="rowColumn" contenteditable="false"
											data-default="2022-11-15 11:15">2022-11-15 11:15</p>
									</td>
									<td>
										<button class="btn btn-Info rounded-pill">답변하기</button>
									</td>
									<td>
										<button class="btn btn-danger rounded-pill del">삭제</button>
									</td>
								</tr>
								<tr>
									<td><input
										class="form-check-input border-1 border-dark delche"
										type="checkbox" value="" id="flexCheckChecked" checked>
									</td>
									<td>
										<p contenteditable="false" data-default="1">1</p>
									</td>
									<td>
										<p class="rowColumn" contenteditable="true"
											data-default="문의드립니다.">문의드립니다.</p>
									</td>
									<td>
										<p class="selectColumn" contenteditable="false"
											data-default="쏼라쏼라">이거 왜 안되는지 모르겠는데요...(생략)</p>
									</td>
									<td>
										<p class="selectColumn" contenteditable="false"
											data-default="qjawns">qjawns</p>
									</td>
									<td>
										<p class="rowColumn" contenteditable="false"
											data-default="2022-11-15 11:15">2022-11-15 11:15</p>
									</td>
									<td>
										<button class="btn btn-success rounded-pill">답변완료</button>
									</td>
									<td>
										<button class="btn btn-danger rounded-pill del">삭제</button>
									</td>
								</tr>
								<tr>
									<td><input
										class="form-check-input border-1 border-dark delche"
										type="checkbox" value="" id="flexCheckChecked" checked>
									</td>
									<td>
										<p contenteditable="false" data-default="1">1</p>
									</td>
									<td>
										<p class="rowColumn" contenteditable="true"
											data-default="문의드립니다.">문의드립니다.</p>
									</td>
									<td>
										<p class="selectColumn" contenteditable="false"
											data-default="쏼라쏼라">이거 왜 안되는지 모르겠는데요...(생략)</p>
									</td>
									<td>
										<p class="selectColumn" contenteditable="false"
											data-default="qjawns">qjawns</p>
									</td>
									<td>
										<p class="rowColumn" contenteditable="false"
											data-default="2022-11-15 11:15">2022-11-15 11:15</p>
									</td>
									<td>
										<button class="btn btn-success rounded-pill">답변완료</button>
									</td>
									<td>
										<button class="btn btn-danger rounded-pill del">삭제</button>
									</td>
								</tr>

							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>

		<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
		<script src="lib/wow/wow.min.js"></script>

		<!-- Template Javascript -->
		<script src="js/html2canvas.js"></script>
		<script src="js/jspdf.min.js"></script>
		<!-- SheetJS CDN -->
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.14.3/xlsx.full.min.js"></script>
		<!-- FileSaver saveAs CDN -->
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.min.js"></script>

		<script src="js/main.js"></script>
		<script src="js/log.js"></script>

		<!-- Chart library -->
		<script src="./plugins/chart.min.js"></script>
		<!-- Icons library -->
		<script src="plugins/feather.min.js"></script>
		<!-- Custom scripts -->
		<script src=/js/script_admin.js"></script>
		<script src="./datepicker/js/datepicker.js"></script>
		<script src="./datepicker/js/datepicker.ko.js"></script>
		<script>
			$(document)
					.ready(
							function() {
								// 상단 탭 버튼
								$('#all').click(function() {

									$('#all').removeClass("unselect");
									$('#all').addClass("select");
									$('#category').removeClass("select");
									$('#category').addClass("unselect");

									$('#cate_box').hide();
									$('#all_box').show();
								});
								$('#category').click(function() {

									$('#category').removeClass("unselect");
									$('#category').addClass("select");
									$('#all').removeClass("select");
									$('#all').addClass("unselect");
									$('#all_box').hide();
									$('#cate_box').show();
								});
								// 상단 모든 카테고리 코드
								// 클릭해서 삭제
								$(".del").click(function(e) {

									$(this).parents('tr').remove();
								})
								// 선택 된 요소 삭제
								$(".seldel").click(
										function(e) {

											console.log($('.delche:checked'))
											$('.delche:checked').parents('tr')
													.remove();
											$('.allche').removeAttr('checked');
										});
								// 해제시 전체 클릭 비활성화+모두 클릭되면 전체 클릭 활성화
								$('.delche:checked')
										.click(
												function() {
													// 해제시 전체 클릭 비활성화
													$('.allche').prop(
															"checked", false);
													//  모두 클릭되면 전체 클릭 활성화
													if ($('#all_box tbody>tr').length == $('.delche:checked').length) {
														$('.allche')
																.prop(
																		"checked",
																		true);
													}
												});
								//  전체 클릭 클릭시 전체온오프
								$('.allche').click(function() {
									if ($('.allche').is(':checked')) {
										$('.delche').prop("checked", true);
									} else {
										$('.delche').prop("checked", false);
									}
								})
								// checked 초기화
								$('.delche').prop("checked", false);
								$('.allche').prop("checked", false);
								// 하단에 있는 카테고리 홍보 코드
								// 리셋 버튼 코드 초기화
								$('.reset').click(
										function(e) {
											$(this).parents('tr').children(
													'td:eq(3)').children()
													.text('default');
											$(this).parents('tr').children(
													'td:eq(3)').children()
													.attr("data-default",
															"default");
										})
								// 코드 변화 감지에 따른 행동
								observer = new MutationObserver(function(
										mutations) {
									mutations.forEach(function(mutation) {
										console.log();
										$(mutation.target).parents('tr')
												.children('td:eq(1)')
												.children().text('default')
									});
								});
								const num = document
										.getElementsByClassName('num');
								for (let i = 0; i < num.length; i++) {
									observer.observe(document
											.getElementsByClassName('num')[i],
											{
												childList : true
											});
								}
							})
		</script>
		<script>
			// 날짜 더하기
			$("#start_date").val(new Date());
			let date = new Date();
			date.setMonth(date.getMonth() + 1);

			$("#end_date").val(date);
			datePickerSet($("#start_date"), $("#end_date"), true); //다중은 시작하는 달력 먼저, 끝달력 2번째
			// var date2 = $('#start_dat').datepicker('getDate', '+1d');
			//     date2.setDate(date2.getDate() + 1);
			//     $('.dropoffDate').datepicker('setDate', date2)

			/*
			 * 달력 생성기
			 * @param sDate 파라미터만 넣으면 1개짜리 달력 생성
			 * @example   datePickerSet($("#datepicker"));
			 * 
			 * 
			 * @param sDate, 
			 * @param eDate 2개 넣으면 연결달력 생성되어 서로의 날짜를 넘어가지 않음
			 * @example   datePickerSet($("#datepicker1"), $("#datepicker2"));
			 */
			function datePickerSet(sDate, eDate, flag) {

				//시작 ~ 종료 2개 짜리 달력 datepicker	
				if (!isValidStr(sDate) && !isValidStr(eDate)
						&& sDate.length > 0 && eDate.length > 0) {
					let sDay = sDate.val();
					let eDay = eDate.val();

					if (flag && !isValidStr(sDay) && !isValidStr(eDay)) { //처음 입력 날짜 설정, update...			
						let sdp = sDate.datepicker().data("datepicker");
						console.log("flag");
						sdp.selectDate(new Date(sDay.replace(/-/g, "/"))); //익스에서는 그냥 new Date하면 -을 인식못함 replace필요

						let edp = eDate.datepicker().data("datepicker");
						edp.selectDate(new Date(eDay.replace(/-/g, "/"))); //익스에서는 그냥 new Date하면 -을 인식못함 replace필요
					}

					//시작일자 세팅하기 날짜가 없는경우엔 제한을 걸지 않음
					if (!isValidStr(eDay)) {
						sDate.datepicker({
							maxDate : new Date(eDay.replace(/-/g, "/"))
						});

					}
					sDate.datepicker({
						language : 'ko',
						autoClose : true,
						onSelect : function() {
							console.log("select");
							datePickerSet(sDate, eDate);
						}
					});

					//종료일자 세팅하기 날짜가 없는경우엔 제한을 걸지 않음
					if (!isValidStr(sDay)) {
						eDate.datepicker({
							minDate : new Date(sDay.replace(/-/g, "/"))
						});
					}
					eDate.datepicker({
						language : 'ko',
						autoClose : true,
						onSelect : function() {
							datePickerSet(sDate, eDate);
						}
					});

					//한개짜리 달력 datepicker
				} else if (!isValidStr(sDate)) {
					let sDay = sDate.val();
					if (flag && !isValidStr(sDay)) { //처음 입력 날짜 설정, update...			
						let sdp = sDate.datepicker().data("datepicker");
						sdp.selectDate(new Date(sDay.replace(/-/g, "/"))); //익스에서는 그냥 new Date하면 -을 인식못함 replace필요
					}

					sDate.datepicker({
						language : 'ko',
						autoClose : true
					});
				}

				function isValidStr(str) {
					if (str == null || str == undefined || str == "")
						return true;
					else
						return false;
				}

			}
		</script>
		<script type="text/javascript">
			$(function() {
				$(".week").click(function() {
					let st = new Date($("#start_date").val());
					st.setDate(st.getDate() - 7);
					$("#start_date").val(st);
					datePickerSet($("#start_date"), $("#end_date"), true);
				});
				$(".month").click(function() {
					let st = new Date($("#start_date").val());
					st.setMonth(st.getMonth() - 1);
					$("#start_date").val(st);
					datePickerSet($("#start_date"), $("#end_date"), true);
				});
				$(".threemonth").click(function() {
					let st = new Date($("#start_date").val());
					st.setMonth(st.getMonth() - 3);
					$("#start_date").val(st);
					datePickerSet($("#start_date"), $("#end_date"), true);
				});
				$(".sixmonth").click(function() {
					let st = new Date($("#start_date").val());
					st.setMonth(st.getMonth() - 6);
					$("#start_date").val(st);
					datePickerSet($("#start_date"), $("#end_date"), true);
				});
				$(".year").click(function() {
					let st = new Date($("#start_date").val());
					st.setFullYear(st.getFullYear() - 1);
					$("#start_date").val(st);
					datePickerSet($("#start_date"), $("#end_date"), true);
				});
			});
		</script>
</body>
</html>