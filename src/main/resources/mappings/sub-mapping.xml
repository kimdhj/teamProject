<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="SubscribeDAO">
	<resultMap type="subscribe" id="subResult">
		<id property="sub_info_seq" column="SUB_INFO_SEQ" />
		<result property="sub_info_price" column="SUB_INFO_PRICE" />
		<result property="sub_info_post_string" column="SUB_INFO_POST_STRING" />
		<result property="sub_info_pre_string" column="SUB_INFO_PRE_STRING" />
		<result property="category_name" column="CATEGORY_NAME" />
		<result property="category_num" column="CATEGORY_NUM" />
		<result property="user_id" column="USER_ID" />
	</resultMap>
	<update id="updateSub" parameterType="subscribe">
		UPDATE sub_info
		SET sub_info_price=#{sub_info_price}, sub_info_post_string=#{sub_info_post_string}, sub_info_pre_string=#{sub_info_pre_string} WHERE sub_info_seq = 1
	</update>
	<select id="getSub" parameterType="subscribe" resultMap="subResult">
		SELECT * FROM sub_info where sub_info_seq = 1
	</select>
	<select id="getcate" resultType="String">
		SELECT category_name FROM category JOIN user_category
		ON category.category_num = user_category.category_num WHERE user_category.user_id = #{user_id};
	</select>

</mapper>
