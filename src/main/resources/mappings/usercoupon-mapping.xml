<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="usercoupon">
	<select parameterType="mycouponsearchVO" resultType="mycouponVO" id="selusercoupon">
	<![CDATA[select * from (select *,@rownum:=@rownum+1 as rnum from user_coupon, (SELECT @rownum:=0) TMP where user_id=#{user_id} ]]>
		<![CDATA[) B where rnum>(#{page}-1)*5 AND rnum<=#{page}*5 ]]>

	</select>
	<select parameterType="mycouponsearchVO" resultType="int" id="selcouponcounts">
	<![CDATA[select count(*) from (select *,@rownum:=@rownum+1 as rnum from user_coupon, (SELECT @rownum:=0) TMP where user_id=#{user_id} ]]>
		<![CDATA[) B  ]]>

	</select>



</mapper>